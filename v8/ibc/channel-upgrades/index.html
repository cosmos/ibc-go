<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v8.5.x docs-doc-page docs-doc-id-ibc/channel-upgrades" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Channel Upgrades | IBC-Go</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ibc.cosmos.network/img/ibc-go-docs-social-card.png"><meta data-rh="true" name="twitter:image" content="https://ibc.cosmos.network/img/ibc-go-docs-social-card.png"><meta data-rh="true" property="og:url" content="https://ibc.cosmos.network/v8/ibc/channel-upgrades/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v8.5.x"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v8.5.x"><meta data-rh="true" name="docsearch:version" content="v8.5.x"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v8.5.x"><meta data-rh="true" property="og:title" content="Channel Upgrades | IBC-Go"><meta data-rh="true" name="description" content="Learn how to upgrade existing IBC channels."><meta data-rh="true" property="og:description" content="Learn how to upgrade existing IBC channels."><link data-rh="true" rel="icon" href="/img/white-cosmos-icon.svg"><link data-rh="true" rel="canonical" href="https://ibc.cosmos.network/v8/ibc/channel-upgrades/"><link data-rh="true" rel="alternate" href="https://ibc.cosmos.network/v8/ibc/channel-upgrades/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibc.cosmos.network/v8/ibc/channel-upgrades/" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HP8ZXWVLJG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HP8ZXWVLJG",{anonymize_ip:!0})</script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.css">




<link rel="preconnect" href="https://www.clarity.ms">
<script>!function(t,e,n,c,a,i,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(i=e.createElement(c)).async=1,i.src="https://www.clarity.ms/tag/idk9udvhuu",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(i,r)}(window,document,"clarity","script")</script>




<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="33cd677e-ea9e-437e-a3c1-dbacbe03afc1" data-project-name="Interchain" data-user-analytics-fingerprint-enabled="true" data-project-color="#1878FF" data-modal-title="IBC Docs AI" data-modal-disclaimer="This is a custom LLM for the Interchain Stack with access to developer documentation and resources across the core Cosmos components. Please note that answers are generated by an AI so please use your best judgement before implementing." data-modal-ask-ai-input-placeholder="Ask me a question about IBC..." data-modal-disclaimer-text-color="#000000" data-modal-disclaimer-font-size="14px" data-modal-image="/img/black-ibc-logo-400x400.svg" data-project-logo="/img/spirograph-white.svg" async></script><link rel="stylesheet" href="/assets/css/styles.9431ce99.css">
<script src="/assets/js/runtime~main.218d8235.js" defer="defer"></script>
<script src="/assets/js/main.992b7090.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/black-ibc-logo.svg" alt="IBC Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/white-ibc-logo.svg" alt="IBC Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/v8/">Documentation</a><a class="navbar__item navbar__link" href="/architecture/">Architecture Decision Records</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/v8/">v8.5.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/main/">Next</a></li><li><a class="dropdown__link" href="/v10/">v10.4.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v8/ibc/channel-upgrades/">v8.5.x</a></li><li><a class="dropdown__link" href="/v7/">v7.8.x</a></li><li><a class="dropdown__link" href="/v6/">v6.3.x</a></li><li><a class="dropdown__link" href="/v5/">v5.4.x</a></li><li><a class="dropdown__link" href="/v4/">v4.6.x</a></li></ul></div><a href="https://github.com/cosmos/ibc-go" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="github-icon">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.300049C5.4 0.300049 0 5.70005 0 12.3001C0 17.6001 3.4 22.1001 8.2 23.7001C8.8 23.8001 9 23.4001 9 23.1001C9 22.8001 9 22.1001 9 21.1001C5.7 21.8001 5 19.5001 5 19.5001C4.5 18.1001 3.7 17.7001 3.7 17.7001C2.5 17.0001 3.7 17.0001 3.7 17.0001C4.9 17.1001 5.5 18.2001 5.5 18.2001C6.6 20.0001 8.3 19.5001 9 19.2001C9.1 18.4001 9.4 17.9001 9.8 17.6001C7.1 17.3001 4.3 16.3001 4.3 11.7001C4.3 10.4001 4.8 9.30005 5.5 8.50005C5.5 8.10005 5 6.90005 5.7 5.30005C5.7 5.30005 6.7 5.00005 9 6.50005C10 6.20005 11 6.10005 12 6.10005C13 6.10005 14 6.20005 15 6.50005C17.3 4.90005 18.3 5.30005 18.3 5.30005C19 7.00005 18.5 8.20005 18.4 8.50005C19.2 9.30005 19.6 10.4001 19.6 11.7001C19.6 16.3001 16.8 17.3001 14.1 17.6001C14.5 18.0001 14.9 18.7001 14.9 19.8001C14.9 21.4001 14.9 22.7001 14.9 23.1001C14.9 23.4001 15.1 23.8001 15.7 23.7001C20.5 22.1001 23.9 17.6001 23.9 12.3001C24 5.70005 18.6 0.300049 12 0.300049Z" fill="currentColor"/>
            </svg>
            </a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v8/">IBC-Go Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/v8/ibc/overview/">Using IBC-Go</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/overview/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/integration/">Integration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/v8/ibc/apps/apps/">Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/v8/ibc/middleware/overview/">Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v8/ibc/upgrades/intro/">Upgrades</a><button aria-label="Expand sidebar category &#x27;Upgrades&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v8/ibc/channel-upgrades/">Channel Upgrades</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/proposals/">Governance Proposals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/relayer/">Relayer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/proto-docs/">Protobuf Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/roadmap/">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/troubleshooting/">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v8/ibc/capability-module/">Capability Module</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v8/apps/transfer/overview/">IBC Application Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v8/ibc/light-clients/overview/">IBC Light Clients</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v8/middleware/ics29-fee/overview/">IBC Middleware Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v8/migrations/support-denoms-with-slashes/">Migrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://github.com/cosmos/ibc" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true">Resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/cosmos/ibc" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">IBC Specification<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://buf.build/cosmos/ibc/docs/main" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Protobuf Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://tutorials.cosmos.network" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Developer Portal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/cosmos/awesome-cosmos" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Awesome Cosmos<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/cosmos/ibc-rs" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">ibc-rs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Using IBC-Go</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Channel Upgrades</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v8.5.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Channel Upgrades</h1>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Synopsis</div><div class="admonitionContent_BuS1"><p>Learn how to upgrade existing IBC channels.</p></div></div>
<p>Channel upgradability is an IBC-level protocol that allows chains to leverage new application and channel features without having to create new channels or perform a network-wide upgrade.</p>
<p>Prior to this feature, developers who wanted to update an application module or add a middleware to their application flow would need to create a new channel in order to use the updated application feature/middleware, resulting in a loss of the accumulated state/liquidity, token fungibility (as the channel ID is encoded in the IBC denom), and any other larger network effects of losing usage of the existing channel from relayers monitoring, etc.</p>
<p>With channel upgradability, applications will be able to implement features such as but not limited to: potentially adding <a href="https://github.com/cosmos/ibc/discussions/719" target="_blank" rel="noopener noreferrer">denom metadata to tokens</a>, or utilizing the <a href="https://github.com/cosmos/ibc/tree/main/spec/app/ics-029-fee-payment" target="_blank" rel="noopener noreferrer">fee middleware</a>, all while maintaining the channels on which they currently operate.</p>
<p>This document outlines the channel upgrade feature, and the multiple steps used in the upgrade process.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="channel-upgrade-handshake">Channel Upgrade Handshake<a class="hash-link" aria-label="Direct link to Channel Upgrade Handshake" title="Direct link to Channel Upgrade Handshake" href="/v8/ibc/channel-upgrades/#channel-upgrade-handshake">​</a></h2>
<p>Channel upgrades will be achieved using a handshake process that is designed to be similar to the standard connection/channel opening handshake.</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> Channel </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// current state of the channel end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State State </span><span class="token string" style="color:#e3116c">`protobuf:&quot;varint,1,opt,name=state,proto3,enum=ibc.core.channel.v1.State&quot; json:&quot;state,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// whether the channel is ordered or unordered</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Ordering Order </span><span class="token string" style="color:#e3116c">`protobuf:&quot;varint,2,opt,name=ordering,proto3,enum=ibc.core.channel.v1.Order&quot; json:&quot;ordering,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// counterparty channel end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Counterparty Counterparty </span><span class="token string" style="color:#e3116c">`protobuf:&quot;bytes,3,opt,name=counterparty,proto3&quot; json:&quot;counterparty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// list of connection identifiers, in order, along which packets sent on</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// this channel will travel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ConnectionHops </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`protobuf:&quot;bytes,4,rep,name=connection_hops,json=connectionHops,proto3&quot; json:&quot;connection_hops,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// opaque channel version, which is agreed upon during the handshake</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Version </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`protobuf:&quot;bytes,5,opt,name=version,proto3&quot; json:&quot;version,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// upgrade sequence indicates the latest upgrade attempt performed by this channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// the value of 0 indicates the channel has never been upgraded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UpgradeSequence </span><span class="token builtin">uint64</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`protobuf:&quot;varint,6,opt,name=upgrade_sequence,json=upgradeSequence,proto3&quot; json:&quot;upgrade_sequence,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The version, connection hops, and channel ordering are fields in this channel struct which can be changed. For example, the fee middleware can be added to an application module by updating the version string <a href="https://github.com/cosmos/ibc-go/blob/v8.1.0/modules/apps/29-fee/types/metadata.pb.go#L29" target="_blank" rel="noopener noreferrer">shown here</a>. However, although connection hops can change in a channel upgrade, both sides must still be each other&#x27;s counterparty. This is enforced by the upgrade protocol and upgrade attempts which try to alter an expected counterparty will fail.</p>
<p>On a high level, successful handshake process for channel upgrades works as follows:</p>
<ol>
<li>The chain initiating the upgrade process will propose an upgrade.</li>
<li>If the counterparty agrees with the proposal, it will block sends and begin flushing any in-flight packets on its channel end. This flushing process will be covered in more detail below.</li>
<li>Upon successful completion of the previous step, the initiating chain will also block packet sends and begin flushing any in-flight packets on its channel end.</li>
<li>Once both channel ends have completed flushing packets within the upgrade timeout window, both channel ends can be opened and upgraded to the new channel fields.</li>
</ol>
<p>Each handshake step will be documented below in greater detail.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-a-channel-upgrade">Initializing a Channel Upgrade<a class="hash-link" aria-label="Direct link to Initializing a Channel Upgrade" title="Direct link to Initializing a Channel Upgrade" href="/v8/ibc/channel-upgrades/#initializing-a-channel-upgrade">​</a></h2>
<p>A channel upgrade is initialised by submitting the <code>MsgChannelUpgradeInit</code> message, which can be submitted only by the chain itself upon governance authorization. It is possible to upgrade the channel ordering, the channel connection hops, and the channel version, which can be found in the <code>UpgradeFields</code>.</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> MsgChannelUpgradeInit </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PortId    </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ChannelId </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Fields    UpgradeFields</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Signer    </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As part of the handling of the <code>MsgChannelUpgradeInit</code> message, the application&#x27;s <code>OnChanUpgradeInit</code> callback will be triggered as well.</p>
<p>After this message is handled successfully, the channel&#x27;s upgrade sequence will be incremented. This upgrade sequence will serve as a nonce for the upgrade process to provide replay protection.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Initiating an upgrade in the same block as opening a channel may potentially prevent the counterparty channel from also opening.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="governance-gating-on-chanupgradeinit">Governance gating on <code>ChanUpgradeInit</code><a class="hash-link" aria-label="Direct link to governance-gating-on-chanupgradeinit" title="Direct link to governance-gating-on-chanupgradeinit" href="/v8/ibc/channel-upgrades/#governance-gating-on-chanupgradeinit">​</a></h3>
<p>The message signer for <code>MsgChannelUpgradeInit</code> must be the address which has been designated as the <code>authority</code> of the <code>IBCKeeper</code>. If this proposal passes, the counterparty&#x27;s channel will upgrade by default.</p>
<p>If chains want to initiate the upgrade of many channels, they will need to submit a governance proposal with multiple <code>MsgChannelUpgradeInit</code>  messages, one for each channel they would like to upgrade, again with message signer as the designated <code>authority</code> of the <code>IBCKeeper</code>. The <code>upgrade-channels</code> CLI command can be used to submit a proposal that initiates the upgrade of multiple channels; see section <a href="/v8/ibc/channel-upgrades/#upgrading-channels-with-the-cli">Upgrading channels with the CLI</a> below for more information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="channel-state-and-packet-flushing">Channel State and Packet Flushing<a class="hash-link" aria-label="Direct link to Channel State and Packet Flushing" title="Direct link to Channel State and Packet Flushing" href="/v8/ibc/channel-upgrades/#channel-state-and-packet-flushing">​</a></h2>
<p><code>FLUSHING</code> and <code>FLUSHCOMPLETE</code> are additional channel states which have been added to enable the upgrade feature.</p>
<p>These states may consist of:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Default State</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UNINITIALIZED State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A channel has just started the opening handshake.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  INIT State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A channel has acknowledged the handshake step on the counterparty chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRYOPEN State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A channel has completed the handshake. Open channels are</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ready to send and receive packets.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  OPEN State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A channel has been closed and can no longer be used to send or receive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// packets.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CLOSED State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A channel has just accepted the upgrade handshake attempt and is flushing in-flight packets.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FLUSHING State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A channel has just completed flushing any in-flight packets.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  FLUSHCOMPLETE State </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These are found in <code>State</code> on the <code>Channel</code> struct:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> Channel </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// current state of the channel end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  State State </span><span class="token string" style="color:#e3116c">`protobuf:&quot;varint,1,opt,name=state,proto3,enum=ibc.core.channel.v1.State&quot; json:&quot;state,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// whether the channel is ordered or unordered</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Ordering Order </span><span class="token string" style="color:#e3116c">`protobuf:&quot;varint,2,opt,name=ordering,proto3,enum=ibc.core.channel.v1.Order&quot; json:&quot;ordering,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// counterparty channel end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Counterparty Counterparty </span><span class="token string" style="color:#e3116c">`protobuf:&quot;bytes,3,opt,name=counterparty,proto3&quot; json:&quot;counterparty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// list of connection identifiers, in order, along which packets sent on</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// this channel will travel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ConnectionHops </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`protobuf:&quot;bytes,4,rep,name=connection_hops,json=connectionHops,proto3&quot; json:&quot;connection_hops,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// opaque channel version, which is agreed upon during the handshake</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Version </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`protobuf:&quot;bytes,5,opt,name=version,proto3&quot; json:&quot;version,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// upgrade sequence indicates the latest upgrade attempt performed by this channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// the value of 0 indicates the channel has never been upgraded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UpgradeSequence </span><span class="token builtin">uint64</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`protobuf:&quot;varint,6,opt,name=upgrade_sequence,json=upgradeSequence,proto3&quot; json:&quot;upgrade_sequence,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>startFlushing</code> is the specific method which is called in <code>ChanUpgradeTry</code> and <code>ChanUpgradeAck</code> to update the state on the channel end. This will set the timeout on the upgrade and update the channel state to <code>FLUSHING</code> which will block the upgrade from continuing until all in-flight packets have been flushed.</p>
<p>This will also set the upgrade timeout for the counterparty (i.e. the timeout before which the counterparty chain must move from <code>FLUSHING</code> to <code>FLUSHCOMPLETE</code>; if it doesn&#x27;t then the chain will cancel the upgrade and write an error receipt). The timeout is a relative time duration in nanoseconds that can be changed with <code>MsgUpdateParams</code> and by default is 10 minutes.</p>
<p>The state will change to <code>FLUSHCOMPLETE</code> once there are no in-flight packets left and the channel end is ready to move to <code>OPEN</code>. This flush state will also have an impact on how a channel upgrade can be cancelled, as detailed below.</p>
<p>All other parameters will remain the same during the upgrade handshake until the upgrade handshake completes. When the channel is reset to <code>OPEN</code> on a successful upgrade handshake, the relevant fields on the channel end will be switched over to the <code>UpgradeFields</code> specified in the upgrade.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When transitioning a channel from UNORDERED to ORDERED, new packet sends from the channel end which upgrades first will be incapable of being timed out until the counterparty has finished upgrading.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Due to the addition of new channel states, packets can still be received and processed in both <code>FLUSHING</code> and <code>FLUSHCOMPLETE</code> states.
Packets can also be acknowledged in the <code>FLUSHING</code> state. Acknowledging will <strong>not</strong> be possible when the channel is in the <code>FLUSHCOMPLETE</code> state, since all packets sent from that channel end have been flushed.
Application developers should consider these new states when implementing application logic that relies on the channel state.
It is still only possible to send packets when the channel is in the <code>OPEN</code> state, but sending is disallowed when the channel enters <code>FLUSHING</code> and <code>FLUSHCOMPLETE</code>. When the channel reopens, sending will be possible again.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cancelling-a-channel-upgrade">Cancelling a Channel Upgrade<a class="hash-link" aria-label="Direct link to Cancelling a Channel Upgrade" title="Direct link to Cancelling a Channel Upgrade" href="/v8/ibc/channel-upgrades/#cancelling-a-channel-upgrade">​</a></h2>
<p>Channel upgrade cancellation is performed by submitting a <code>MsgChannelUpgradeCancel</code> message.</p>
<p>It is possible for the authority to cancel an in-progress channel upgrade if the following are true:</p>
<ul>
<li>The signer is the authority</li>
<li>The channel state has not reached FLUSHCOMPLETE</li>
<li>If the channel state has reached FLUSHCOMPLETE, an existence proof of an <code>ErrorReceipt</code> on the counterparty chain is provided at our upgrade sequence or greater</li>
</ul>
<p>It is possible for a relayer to cancel an in-progress channel upgrade if the following are true:</p>
<ul>
<li>An existence proof of an <code>ErrorReceipt</code> on the counterparty chain is provided at our upgrade sequence or greater</li>
</ul>
<blockquote>
<p>Note: if the signer is the authority, e.g. the <code>gov</code> address, no <code>ErrorReceipt</code> or proof is required if the current channel state is not in FLUSHCOMPLETE.
These can be left empty in the <code>MsgChannelUpgradeCancel</code> message in that case.</p>
</blockquote>
<p>Upon cancelling a channel upgrade, an <code>ErrorReceipt</code> will be written with the channel&#x27;s current upgrade sequence, and
the channel will move back to <code>OPEN</code> state keeping its original parameters.</p>
<p>It will then be possible to re-initiate an upgrade by sending a <code>MsgChannelOpenInit</code> message.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Performing sequentially an upgrade cancellation, upgrade initialization, and another upgrade cancellation in a single block while the counterparty is in <code>FLUSHCOMPLETE</code> will lead to corrupted state.
The counterparty will be unable to cancel its upgrade attempt and will require a manual migration.
When the counterparty is in <code>FLUSHCOMPLETE</code>, it requires a proof that the counterparty cancelled its current upgrade attempt.
When this cancellation is succeeded by an initialization and cancellation in the same block, it results in the proof of cancellation existing only for the next upgrade attempt, not the current.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timing-out-a-channel-upgrade">Timing Out a Channel Upgrade<a class="hash-link" aria-label="Direct link to Timing Out a Channel Upgrade" title="Direct link to Timing Out a Channel Upgrade" href="/v8/ibc/channel-upgrades/#timing-out-a-channel-upgrade">​</a></h2>
<p>Timing out an outstanding channel upgrade may be necessary during the flushing packet stage of the channel upgrade process. As stated above, with <code>ChanUpgradeTry</code> or <code>ChanUpgradeAck</code>, the channel state has been changed from <code>OPEN</code> to <code>FLUSHING</code>, so no new packets will be allowed to be sent over this channel while flushing. If upgrades cannot be performed in a timely manner (due to unforeseen flushing issues), upgrade timeouts allow the channel to avoid blocking packet sends indefinitely. If flushing exceeds the time limit set in the <code>UpgradeTimeout</code> channel <code>Params</code>, the upgrade process will need to be timed out to abort the upgrade attempt and resume normal channel processing.</p>
<p>Channel upgrades require setting a valid timeout value in the channel <code>Params</code> before submitting a <code>MsgChannelUpgradeTry</code> or <code>MsgChannelUpgradeAck</code> message (by default, 10 minutes):</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> Params </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UpgradeTimeout Timeout </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A valid Timeout contains either one or both of a timestamp and block height (sequence).</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> Timeout </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// block height after which the packet or upgrade times out</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Height types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// block timestamp (in nanoseconds) after which the packet or upgrade times out</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Timestamp </span><span class="token builtin">uint64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This timeout will then be set as a field on the <code>Upgrade</code> struct itself when flushing is started.</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> Upgrade </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Fields           UpgradeFields </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Timeout          Timeout       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NextSequenceSend </span><span class="token builtin">uint64</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If the timeout has been exceeded during flushing, a chain can then submit the <code>MsgChannelUpgradeTimeout</code> to timeout the channel upgrade process:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> MsgChannelUpgradeTimeout </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PortId              </span><span class="token builtin">string</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ChannelId           </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CounterpartyChannel Channel </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProofChannel        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">byte</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ProofHeight         types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Signer              </span><span class="token builtin">string</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>An <code>ErrorReceipt</code> will be written with the channel&#x27;s current upgrade sequence, and the channel will move back to <code>OPEN</code> state keeping its original parameters.</p>
<p>Note that timing out a channel upgrade will end the upgrade process, and a new <code>MsgChannelUpgradeInit</code> will have to be submitted via governance in order to restart the upgrade process.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pruning-acknowledgements">Pruning Acknowledgements<a class="hash-link" aria-label="Direct link to Pruning Acknowledgements" title="Direct link to Pruning Acknowledgements" href="/v8/ibc/channel-upgrades/#pruning-acknowledgements">​</a></h2>
<p>Acknowledgements can be pruned by broadcasting the <code>MsgPruneAcknowledgements</code> message.</p>
<blockquote>
<p>Note: It is only possible to prune acknowledgements after a channel has been upgraded, so pruning will fail
if the channel has not yet been upgraded.</p>
</blockquote>
<div class="language-protobuf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-protobuf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// MsgPruneAcknowledgements defines the request type for the PruneAcknowledgements rpc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">message</span><span class="token plain"> </span><span class="token class-name">MsgPruneAcknowledgements</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">option</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cosmos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">signer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;signer&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">option</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gogoproto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">goproto_getters</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> port_id    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> channel_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">uint64</span><span class="token plain"> limit      </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">string</span><span class="token plain"> signer     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>port_id</code> and <code>channel_id</code> specify the port and channel to act on, and the <code>limit</code> specifies the upper bound for the number
of acknowledgements and packet receipts to prune.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cli-usage">CLI Usage<a class="hash-link" aria-label="Direct link to CLI Usage" title="Direct link to CLI Usage" href="/v8/ibc/channel-upgrades/#cli-usage">​</a></h3>
<p>Acknowledgements can be pruned via the cli with the <code>prune-acknowledgements</code> command.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">simd tx ibc channel prune-acknowledgements [port] [channel] [limit]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ibc-app-recommendations">IBC App Recommendations<a class="hash-link" aria-label="Direct link to IBC App Recommendations" title="Direct link to IBC App Recommendations" href="/v8/ibc/channel-upgrades/#ibc-app-recommendations">​</a></h2>
<p>IBC application callbacks should be primarily used to validate data fields and do compatibility checks. Application developers
should be aware that callbacks will be invoked before any core ibc state changes are written.</p>
<p><code>OnChanUpgradeInit</code> should validate the proposed version, order, and connection hops, and should return the application version to upgrade to.</p>
<p><code>OnChanUpgradeTry</code> should validate the proposed version (provided by the counterparty), order, and connection hops. The desired upgrade version should be returned.</p>
<p><code>OnChanUpgradeAck</code> should validate the version proposed by the counterparty.</p>
<p><code>OnChanUpgradeOpen</code> should perform any logic associated with changing of the channel fields.</p>
<blockquote>
<p>IBC applications should not attempt to process any packet data under the new conditions until after <code>OnChanUpgradeOpen</code>
has been executed, as up until this point it is still possible for the upgrade handshake to fail and for the channel
to remain in the pre-upgraded state.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-an-existing-transfer-application-stack-to-use-29-fee-middleware">Upgrade an existing transfer application stack to use 29-fee middleware<a class="hash-link" aria-label="Direct link to Upgrade an existing transfer application stack to use 29-fee middleware" title="Direct link to Upgrade an existing transfer application stack to use 29-fee middleware" href="/v8/ibc/channel-upgrades/#upgrade-an-existing-transfer-application-stack-to-use-29-fee-middleware">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wire-up-the-transfer-stack-and-middleware-in-appgo">Wire up the transfer stack and middleware in app.go<a class="hash-link" aria-label="Direct link to Wire up the transfer stack and middleware in app.go" title="Direct link to Wire up the transfer stack and middleware in app.go" href="/v8/ibc/channel-upgrades/#wire-up-the-transfer-stack-and-middleware-in-appgo">​</a></h3>
<p>In app.go, the existing transfer stack must be wrapped with the fee middleware.</p>
<div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ibcfee &quot;github.com/cosmos/ibc-go/v8/modules/apps/29-fee&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ibctransferkeeper &quot;github.com/cosmos/ibc-go/v8/modules/apps/transfer/keeper&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  transfer &quot;github.com/cosmos/ibc-go/v8/modules/apps/transfer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  porttypes &quot;github.com/cosmos/ibc-go/v8/modules/core/05-port/types&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type App struct {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TransferKeeper        ibctransferkeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IBCFeeKeeper          ibcfeekeeper.Keeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.IBCFeeKeeper = ibcfeekeeper.NewKeeper(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  appCodec, keys[ibcfeetypes.StoreKey],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.IBCKeeper.ChannelKeeper, // may be replaced with IBC middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.IBCKeeper.ChannelKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.IBCKeeper.PortKeeper, app.AccountKeeper, app.BankKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create Transfer Keeper and pass IBCFeeKeeper as expected Channel and PortKeeper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// since fee middleware will wrap the IBCKeeper for underlying application.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app.TransferKeeper = ibctransferkeeper.NewKeeper(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  appCodec, keys[ibctransfertypes.StoreKey], app.GetSubspace(ibctransfertypes.ModuleName),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.IBCFeeKeeper, // ISC4 Wrapper: fee IBC middleware</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.IBCKeeper.ChannelKeeper, app.IBCKeeper.PortKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.AccountKeeper, app.BankKeeper, scopedTransferKeeper,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  authtypes.NewModuleAddress(govtypes.ModuleName).String(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ibcRouter := porttypes.NewRouter()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// create IBC module from bottom to top of stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var transferStack porttypes.IBCModule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transferStack = transfer.NewIBCModule(app.TransferKeeper)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transferStack = ibcfee.NewIBCMiddleware(transferStack, app.IBCFeeKeeper)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Add transfer stack to IBC Router</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ibcRouter.AddRoute(ibctransfertypes.ModuleName, transferStack)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submit-a-governance-proposal-to-execute-a-msgchannelupgradeinit-message">Submit a governance proposal to execute a MsgChannelUpgradeInit message<a class="hash-link" aria-label="Direct link to Submit a governance proposal to execute a MsgChannelUpgradeInit message" title="Direct link to Submit a governance proposal to execute a MsgChannelUpgradeInit message" href="/v8/ibc/channel-upgrades/#submit-a-governance-proposal-to-execute-a-msgchannelupgradeinit-message">​</a></h3>
<blockquote>
<p>This process can be performed with the new CLI that has been added
outlined <a href="/v8/ibc/channel-upgrades/#upgrading-channels-with-the-cli">here</a>.</p>
</blockquote>
<p>Only the configured authority for the ibc module is able to initiate a channel upgrade by submitting a <code>MsgChannelUpgradeInit</code> message.</p>
<p>Execute a governance proposal specifying the relevant fields to perform a channel upgrade.</p>
<p>Update the following json sample, and copy the contents into <code>proposal.json</code>.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;title&quot;: &quot;Channel upgrade init&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;summary&quot;: &quot;Channel upgrade init&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;messages&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;@type&quot;: &quot;/ibc.core.channel.v1.MsgChannelUpgradeInit&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;signer&quot;: &quot;&lt;gov-address&gt;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;port_id&quot;: &quot;transfer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;channel_id&quot;: &quot;channel-...&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;fields&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ordering&quot;: &quot;ORDER_UNORDERED&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;connection_hops&quot;: [&quot;connection-0&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;version&quot;: &quot;{\&quot;fee_version\&quot;:\&quot;ics29-1\&quot;,\&quot;app_version\&quot;:\&quot;ics20-1\&quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;metadata&quot;: &quot;&lt;metadata&gt;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;deposit&quot;: &quot;10stake&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Note: ensure the correct fields.version is specified. This is the new version that the channels will be upgraded to.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="submit-the-proposal">Submit the proposal<a class="hash-link" aria-label="Direct link to Submit the proposal" title="Direct link to Submit the proposal" href="/v8/ibc/channel-upgrades/#submit-the-proposal">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">simd tx submit-proposal proposal.json --from &lt;key_or_address&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-channels-with-the-cli">Upgrading channels with the CLI<a class="hash-link" aria-label="Direct link to Upgrading channels with the CLI" title="Direct link to Upgrading channels with the CLI" href="/v8/ibc/channel-upgrades/#upgrading-channels-with-the-cli">​</a></h2>
<p>A new cli has been added which enables either</p>
<ul>
<li>submitting a governance proposal which contains a <code>MsgChannelUpgradeInit</code> for every channel to be upgraded.</li>
<li>generating a <code>proposal.json</code> file which contains the proposal contents to be edited/submitted at a later date.</li>
</ul>
<p>The following example, would submit a governance proposal with the specified deposit, title and summary which would
contain a <code>MsgChannelUpgradeInit</code> for all <code>OPEN</code> channels whose port matches the regular expression <code>transfer</code>.</p>
<blockquote>
<p>Note: by adding the <code>--json</code> flag, the command would instead output the contents of the proposal which could be
stored in a <code>proposal.json</code> file to be edited and submitted at a later date.</p>
</blockquote>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">simd tx ibc channel upgrade-channels &quot;{\&quot;fee_version\&quot;:\&quot;ics29-1\&quot;,\&quot;app_version\&quot;:\&quot;ics20-1\&quot;}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --deposit &quot;10stake&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --title &quot;Channel Upgrades Governance Proposal&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --summary &quot;Upgrade all transfer channels to be fee enabled&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port-pattern &quot;transfer&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is also possible to explicitly list a comma separated string of channel IDs. It is important to note that the
regular expression matching specified by <code>--port-pattern</code> (which defaults to <code>transfer</code>) still applies.</p>
<p>For example the following command would generate the contents of a <code>proposal.json</code> file which would attempt to upgrade
channels with a port ID of <code>transfer</code> and a channelID of <code>channel-0</code>, <code>channel-1</code> or <code>channel-2</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">simd tx ibc channel upgrade-channels &quot;{\&quot;fee_version\&quot;:\&quot;ics29-1\&quot;,\&quot;app_version\&quot;:\&quot;ics20-1\&quot;}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --deposit &quot;10stake&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --title &quot;Channel Upgrades Governance Proposal&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --summary &quot;Upgrade all transfer channels to be fee enabled&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --port-pattern &quot;transfer&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --channel-ids &quot;channel-0,channel-1,channel-2&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/v8/ibc/upgrades/genesis-restart/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Genesis Restart Upgrades</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v8/ibc/proposals/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Governance Proposals</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#channel-upgrade-handshake">Channel Upgrade Handshake</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#initializing-a-channel-upgrade">Initializing a Channel Upgrade</a><ul><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#governance-gating-on-chanupgradeinit">Governance gating on <code>ChanUpgradeInit</code></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#channel-state-and-packet-flushing">Channel State and Packet Flushing</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#cancelling-a-channel-upgrade">Cancelling a Channel Upgrade</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#timing-out-a-channel-upgrade">Timing Out a Channel Upgrade</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#pruning-acknowledgements">Pruning Acknowledgements</a><ul><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#cli-usage">CLI Usage</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#ibc-app-recommendations">IBC App Recommendations</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#upgrade-an-existing-transfer-application-stack-to-use-29-fee-middleware">Upgrade an existing transfer application stack to use 29-fee middleware</a><ul><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#wire-up-the-transfer-stack-and-middleware-in-appgo">Wire up the transfer stack and middleware in app.go</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#submit-a-governance-proposal-to-execute-a-msgchannelupgradeinit-message">Submit a governance proposal to execute a MsgChannelUpgradeInit message</a></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#submit-the-proposal">Submit the proposal</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/v8/ibc/channel-upgrades/#upgrading-channels-with-the-cli">Upgrading channels with the CLI</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cosmos.network"><img src="/img/cosmos-logo-bw.svg" alt="Cosmos Logo"></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://hermes.informal.systems/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hermes Relayer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://hub.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.cometbft.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">CometBFT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/interchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/interchain_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@interchain_io" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Other Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cosmos/relayer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Relayer<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/cosmos/ibc-rs" target="_blank" rel="noopener noreferrer" class="footer__link-item">ibc-rs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/cosmos/interchaintest" target="_blank" rel="noopener noreferrer" class="footer__link-item">interchaintest<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cosmwasm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CosmWasm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cosmos/ibc-go" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.ibcprotocol.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBC Protocol Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cosmos.network/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/black-large-ibc-logo.svg" alt="Large IBC Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="275"><img src="/img/white-large-ibc-logo.svg" alt="Large IBC Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="275"></div><div class="footer__copyright"><p>The development of IBC-Go is led primarily by <a href="https://interchain.berlin/">Interchain GmbH</a>. Funding for this development comes primarily from the Interchain Foundation, a Swiss non-profit.</p></div></div></div></footer></div>
<script type="module" src="https://cdn.jsdelivr.net/npm/pushfeedback@latest/dist/pushfeedback/pushfeedback.esm.js"></script>
<script>const feedbackButton=document.createElement("feedback-button");feedbackButton.setAttribute("project","3mpmaho4fa"),feedbackButton.setAttribute("modal-position","sidebar-right"),feedbackButton.setAttribute("button-style","dark"),feedbackButton.setAttribute("button-position","center-right"),feedbackButton.setAttribute("id","default"),feedbackButton.textContent="Feedback",document.body.appendChild(feedbackButton)</script></body>
</html>