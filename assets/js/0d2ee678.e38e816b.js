"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[71712],{28453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>i});var t=n(96540);const o={},s=t.createContext(o);function a(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(s.Provider,{value:r},e.children)}},73295:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>p,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var t=n(74848),o=n(28453);const s={title:"IBC-Go v10 to v11",sidebar_label:"IBC-Go v10 to v11",sidebar_position:14,slug:"/migrations/v10-to-v11"},a="Migrating from v10 to v11",i={id:"migrations/v10-to-v11",title:"IBC-Go v10 to v11",description:"This guide provides instructions for migrating to a new version of ibc-go.",source:"@site/docs/05-migrations/14-v10-to-v11.md",sourceDirName:"05-migrations",slug:"/migrations/v10-to-v11",permalink:"/main/migrations/v10-to-v11",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{title:"IBC-Go v10 to v11",sidebar_label:"IBC-Go v10 to v11",sidebar_position:14,slug:"/migrations/v10-to-v11"},sidebar:"defaultSidebar",previous:{title:"IBC-Go v8.1 to v10",permalink:"/main/migrations/v8_1-to-v10"}},p={},d=[];function c(e){const r={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h1,{id:"migrating-from-v10-to-v11",children:"Migrating from v10 to v11"}),"\n",(0,t.jsx)(r.p,{children:"This guide provides instructions for migrating to a new version of ibc-go."}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Note:"})," ibc-go supports golang semantic versioning and therefore all imports must be updated on major version releases."]}),"\n",(0,t.jsx)(r.p,{children:"Diff examples are shown after the list of overall changes:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Chains will need to remove the ",(0,t.jsx)(r.code,{children:"ParamSubspace"})," arg from all calls to ",(0,t.jsx)(r.code,{children:"Keeper"})," constructors"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-diff",children:"  app.IBCKeeper = ibckeeper.NewKeeper(\n    appCodec,\n    runtime.NewKVStoreService(keys[ibcexported.StoreKey]),\n-   app.GetSubspace(ibcexported.ModuleName),\n    app.UpgradeKeeper,\n    authtypes.NewModuleAddress(govtypes.ModuleName).String(),\n  )\n"})}),"\n",(0,t.jsx)(r.p,{children:"The transfer module, the packet forward middleware, and the rate limiting middleware support custom address codecs. This feature is primarily added to support Cosmos EVM for IBC transfers. In a standard Cosmos SDK app, they are wired as follows:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-diff",children:"  app.TransferKeeper = ibctransferkeeper.NewKeeper(\n    appCodec,\n+    app.AccountKeeper.AddressCodec(),\n    runtime.NewKVStoreService(keys[ibctransfertypes.StoreKey]),\n    app.IBCKeeper.ChannelKeeper,\n    app.MsgServiceRouter(),\n    app.AccountKeeper, app.BankKeeper,\n    authtypes.NewModuleAddress(govtypes.ModuleName).String(),\n  )\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-diff",children:"  app.RateLimitKeeper = ratelimitkeeper.NewKeeper(\n    appCodec,\n+    app.AccountKeeper.AddressCodec(),\n    runtime.NewKVStoreService(keys[ratelimittypes.StoreKey]),\n    app.IBCKeeper.ChannelKeeper,\n    app.IBCKeeper.ClientKeeper,\n    app.BankKeeper,\n    authtypes.NewModuleAddress(govtypes.ModuleName).String()\n  )\n"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-diff",children:"  app.PFMKeeper = packetforwardkeeper.NewKeeper(\n    appCodec,\n+    app.AccountKeeper.AddressCodec(),\n    runtime.NewKVStoreService(keys[packetforwardtypes.StoreKey]),\n    app.TransferKeeper,\n    app.IBCKeeper.ChannelKeeper,\n    app.BankKeeper,\n    authtypes.NewModuleAddress(govtypes.ModuleName).String()\n  )\n"})})]})}function l(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);